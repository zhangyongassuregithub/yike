var Yike=angular.module("Yike",["ngRoute","Controllers"]);Yike.config(["$routeProvider",function(t){t.when("/today",{templateUrl:"./views/today.html",controller:"TodayController"}).when("/older",{templateUrl:"./views/older.html",controller:"OlderController"}).when("/author",{templateUrl:"./views/author.html",controller:"AuthorController"}).when("/category",{templateUrl:"./views/category.html",controller:"CategoryController"}).when("/settings",{templateUrl:"./views/settings.html",controller:"SettingsController"}).otherwise({redirectTo:"/today"})}]),Yike.run(["$rootScope",function(r){r.collapsed=!1,r.toggle=function(){r.collapsed=!r.collapsed;var t=document.querySelectorAll(".navs dd");if(r.collapsed)for(var o=0;o<t.length;o++)t[o].style.transform="translate(0)",t[o].style.transitionDuration=.15*(o+1)+"s",t[o].style.transitionDelay="0.2s";else for(var e=t.length-1,l=e;0<l;l--)t[l].style.transform="translate(-100%)",t[l].style.transitionDuration=.15*(e-l)+"s",t[l].style.transitionDelay=""}}]),angular.module("Controllers",[]).controller("NavController",["$scope",function(t){t.navs=[{link:"#!/today",text:"今日一刻",icon:"icon-home"},{link:"#!/older",text:"往期内容",icon:"icon-file-empty"},{link:"#!/author",text:"热门作者",icon:"icon-pencil"},{link:"#!/category",text:"栏目浏览",icon:"icon-menu"},{link:"#!/favourite",text:"我的喜欢",icon:"icon-heart"},{link:"#!/settings",text:"设置",icon:"icon-cog"}]}]).controller("TodayController",["$scope","$rootScope","$http","$filter",function(o,e,t,l){e.index=0,e.title="今日一刻",e.loaded=!1,e.date=l("date")(new Date,"EEEE MMM-dd"),t({url:"./api/today.php",method:"get"}).then(function(t){o.posts=t.data.posts,e.loaded=!0})}]).controller("OlderController",["$scope","$rootScope","$http","$filter",function(o,e,t,l){e.index=1,e.title="往期内容",e.loaded=!1,t({url:"./api/older.php",method:"get"}).then(function(t){e.loaded=!0,o.posts=t.data.posts,o.date=t.data.date})}]).controller("AuthorController",["$scope","$rootScope","$http",function(o,e,t){e.index=2,e.title="热门作者",e.loaded=!1,t({url:"./api/author.php",method:"get"}).then(function(t){e.loaded=!0,o.all=t.data.all,o.rec=t.data.rec})}]).controller("CategoryController",["$scope","$rootScope","$http",function(o,e,t){e.index=3,e.title="热门作者",e.loaded=!1,t({url:"/proxy/category",method:"post"}).then(function(t){e.loaded=!0,o.columns=t.columns})}]).controller("SettingsController",["$scope","$rootScope",function(t,o){o.index=4,o.title="设置",o.loaded=!0}]);